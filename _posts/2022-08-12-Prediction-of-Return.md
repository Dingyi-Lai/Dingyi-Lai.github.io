---
layout: post
author: Dingyi Lai
---

Lorem ipsum[^1] 

Try something out

# Business setting

A substential part of products purchased online by customers are returned especially in the case of free return shipping. Given the fierce online competition among online retailers, it is important to predict the potential return behaviour so as to take an extra step, for instance, restrict payment options or display additional marketing communication.

When a customer is about to purchase an item, which is likely to be returned, the shop is planning to show a warning message. Pre-tests suggest that the warning message leads approx. 50% of customers to cancel their purchase. In case of a return, the shop calculates with shipping-related costs of 3 EUR plus 10% of the item value in loss of resale value. Thus, the cost-matrix could be written as following:

| Tables        | 	actual_Keep(0)  | actual_Return(1)  |
| ------------- |:---------------------:| -------------:|
| predicted_Keep(0)	 | $C(k,K) = 0$ | $C(k,R) = 0.5*5*(3+0.1*v)$ |
| predicted_Return(1) | $C(r,K) = 0.5*v$  | $C(r,R) = 0$ |

Note that in the dataset, **a returned item is denoted as the positive class, and v in the cost-matrix denotes the price of the returned item.**

Therefore, besides to predict the return rate as accurately as possible, this model is built to minimize the expected costs, put differently, to maximize the revenue of the online retailer as well. 

# Table of Content

<h1>Table of Contents<span class="tocSkip"></span></h1>
<div class="toc"><ul class="toc-item"><li><span><a href="#Pakte-importieren-und-Notebookeinstellungen" data-toc-modified-id="Pakte-importieren-und-Notebookeinstellungen-1"><span class="toc-item-num">1&nbsp;&nbsp;</span>Pakte importieren und Notebookeinstellungen</a></span><ul class="toc-item"><li><span><a href="#Define-parameters" data-toc-modified-id="Define-parameters-1.1"><span class="toc-item-num">1.1&nbsp;&nbsp;</span>Define parameters</a></span></li></ul></li><li><span><a href="#Define-Methods-for-preprocessing-data" data-toc-modified-id="Define-Methods-for-preprocessing-data-2"><span class="toc-item-num">2&nbsp;&nbsp;</span>Define Methods for preprocessing data</a></span></li><li><span><a href="#Load-data" data-toc-modified-id="Load-data-3"><span class="toc-item-num">3&nbsp;&nbsp;</span>Load data</a></span></li><li><span><a href="#EDA-and-Data-Preparation" data-toc-modified-id="EDA-and-Data-Preparation-4"><span class="toc-item-num">4&nbsp;&nbsp;</span>EDA and Data Preparation</a></span><ul class="toc-item"><li><span><a href="#order_date" data-toc-modified-id="order_date-4.1"><span class="toc-item-num">4.1&nbsp;&nbsp;</span>order_date</a></span></li><li><span><a href="#delivery_date" data-toc-modified-id="delivery_date-4.2"><span class="toc-item-num">4.2&nbsp;&nbsp;</span>delivery_date</a></span><ul class="toc-item"><li><span><a href="#Add-delivery_date_missing" data-toc-modified-id="Add-delivery_date_missing-4.2.1"><span class="toc-item-num">4.2.1&nbsp;&nbsp;</span>Add delivery_date_missing</a></span></li><li><span><a href="#Add-delivery_days" data-toc-modified-id="Add-delivery_days-4.2.2"><span class="toc-item-num">4.2.2&nbsp;&nbsp;</span>Add delivery_days</a></span></li><li><span><a href="#Add-marker-for-delivery_date-=-1994" data-toc-modified-id="Add-marker-for-delivery_date-=-1994-4.2.3"><span class="toc-item-num">4.2.3&nbsp;&nbsp;</span>Add marker for delivery_date = 1994</a></span></li><li><span><a href="#Set-delivery-date-to-nan-if-=-1994" data-toc-modified-id="Set-delivery-date-to-nan-if-=-1994-4.2.4"><span class="toc-item-num">4.2.4&nbsp;&nbsp;</span>Set delivery date to nan if = 1994</a></span></li><li><span><a href="#Remove-delivery_days-outliers" data-toc-modified-id="Remove-delivery_days-outliers-4.2.5"><span class="toc-item-num">4.2.5&nbsp;&nbsp;</span>Remove delivery_days outliers</a></span></li></ul></li><li><span><a href="#item_size" data-toc-modified-id="item_size-4.3"><span class="toc-item-num">4.3&nbsp;&nbsp;</span>item_size</a></span><ul class="toc-item"><li><span><a href="#Convert-item_size" data-toc-modified-id="Convert-item_size-4.3.1"><span class="toc-item-num">4.3.1&nbsp;&nbsp;</span>Convert item_size</a></span></li><li><span><a href="#Add-item_size_frequency" data-toc-modified-id="Add-item_size_frequency-4.3.2"><span class="toc-item-num">4.3.2&nbsp;&nbsp;</span>Add item_size_frequency</a></span></li></ul></li><li><span><a href="#item_color" data-toc-modified-id="item_color-4.4"><span class="toc-item-num">4.4&nbsp;&nbsp;</span>item_color</a></span><ul class="toc-item"><li><span><a href="#Add-item_color_count" data-toc-modified-id="Add-item_color_count-4.4.1"><span class="toc-item-num">4.4.1&nbsp;&nbsp;</span>Add item_color_count</a></span></li><li><span><a href="#Add-item_color_frequency" data-toc-modified-id="Add-item_color_frequency-4.4.2"><span class="toc-item-num">4.4.2&nbsp;&nbsp;</span>Add item_color_frequency</a></span></li></ul></li><li><span><a href="#brand_id" data-toc-modified-id="brand_id-4.5"><span class="toc-item-num">4.5&nbsp;&nbsp;</span>brand_id</a></span><ul class="toc-item"><li><span><a href="#Add-brand_id_count" data-toc-modified-id="Add-brand_id_count-4.5.1"><span class="toc-item-num">4.5.1&nbsp;&nbsp;</span>Add brand_id_count</a></span></li><li><span><a href="#Add-brand_id_frequency" data-toc-modified-id="Add-brand_id_frequency-4.5.2"><span class="toc-item-num">4.5.2&nbsp;&nbsp;</span>Add brand_id_frequency</a></span></li></ul></li><li><span><a href="#item_id" data-toc-modified-id="item_id-4.6"><span class="toc-item-num">4.6&nbsp;&nbsp;</span>item_id</a></span><ul class="toc-item"><li><span><a href="#Add-item_id_count" data-toc-modified-id="Add-item_id_count-4.6.1"><span class="toc-item-num">4.6.1&nbsp;&nbsp;</span>Add item_id_count</a></span></li><li><span><a href="#Add-item_id_frequency" data-toc-modified-id="Add-item_id_frequency-4.6.2"><span class="toc-item-num">4.6.2&nbsp;&nbsp;</span>Add item_id_frequency</a></span></li></ul></li><li><span><a href="#user_id" data-toc-modified-id="user_id-4.7"><span class="toc-item-num">4.7&nbsp;&nbsp;</span>user_id</a></span><ul class="toc-item"><li><span><a href="#Add-user_order_count" data-toc-modified-id="Add-user_order_count-4.7.1"><span class="toc-item-num">4.7.1&nbsp;&nbsp;</span>Add user_order_count</a></span></li><li><span><a href="#Add-user_id_frequency" data-toc-modified-id="Add-user_id_frequency-4.7.2"><span class="toc-item-num">4.7.2&nbsp;&nbsp;</span>Add user_id_frequency</a></span></li></ul></li><li><span><a href="#item_price" data-toc-modified-id="item_price-4.8"><span class="toc-item-num">4.8&nbsp;&nbsp;</span>item_price</a></span><ul class="toc-item"><li><span><a href="#Truncate-item_price" data-toc-modified-id="Truncate-item_price-4.8.1"><span class="toc-item-num">4.8.1&nbsp;&nbsp;</span>Truncate item_price</a></span></li></ul></li><li><span><a href="#user_dob" data-toc-modified-id="user_dob-4.9"><span class="toc-item-num">4.9&nbsp;&nbsp;</span>user_dob</a></span><ul class="toc-item"><li><span><a href="#Calculate-age" data-toc-modified-id="Calculate-age-4.9.1"><span class="toc-item-num">4.9.1&nbsp;&nbsp;</span>Calculate age</a></span></li><li><span><a href="#Add-dob_missing" data-toc-modified-id="Add-dob_missing-4.9.2"><span class="toc-item-num">4.9.2&nbsp;&nbsp;</span>Add dob_missing</a></span></li><li><span><a href="#Cut-age" data-toc-modified-id="Cut-age-4.9.3"><span class="toc-item-num">4.9.3&nbsp;&nbsp;</span>Cut age</a></span></li><li><span><a href="#Truncate-age" data-toc-modified-id="Truncate-age-4.9.4"><span class="toc-item-num">4.9.4&nbsp;&nbsp;</span>Truncate age</a></span></li></ul></li><li><span><a href="#user_reg_date" data-toc-modified-id="user_reg_date-4.10"><span class="toc-item-num">4.10&nbsp;&nbsp;</span>user_reg_date</a></span><ul class="toc-item"><li><span><a href="#Add-been_member_for" data-toc-modified-id="Add-been_member_for-4.10.1"><span class="toc-item-num">4.10.1&nbsp;&nbsp;</span>Add been_member_for</a></span></li><li><span><a href="#Add-member" data-toc-modified-id="Add-member-4.10.2"><span class="toc-item-num">4.10.2&nbsp;&nbsp;</span>Add member</a></span></li></ul></li><li><span><a href="#WoE" data-toc-modified-id="WoE-4.11"><span class="toc-item-num">4.11&nbsp;&nbsp;</span>WoE</a></span><ul class="toc-item"><li><span><a href="#WoE-of-member" data-toc-modified-id="WoE-of-member-4.11.1"><span class="toc-item-num">4.11.1&nbsp;&nbsp;</span>WoE of member</a></span></li><li><span><a href="#WoE-of-brand_id" data-toc-modified-id="WoE-of-brand_id-4.11.2"><span class="toc-item-num">4.11.2&nbsp;&nbsp;</span>WoE of brand_id</a></span></li><li><span><a href="#WoE-of-item_id" data-toc-modified-id="WoE-of-item_id-4.11.3"><span class="toc-item-num">4.11.3&nbsp;&nbsp;</span>WoE of item_id</a></span></li><li><span><a href="#WoE-for-item_color" data-toc-modified-id="WoE-for-item_color-4.11.4"><span class="toc-item-num">4.11.4&nbsp;&nbsp;</span>WoE for item_color</a></span></li><li><span><a href="#WoE-for-user_state" data-toc-modified-id="WoE-for-user_state-4.11.5"><span class="toc-item-num">4.11.5&nbsp;&nbsp;</span>WoE for user_state</a></span></li></ul></li></ul></li><li><span><a href="#Information-Gain" data-toc-modified-id="Information-Gain-5"><span class="toc-item-num">5&nbsp;&nbsp;</span>Information Gain</a></span></li><li><span><a href="#Correlation-matrix" data-toc-modified-id="Correlation-matrix-6"><span class="toc-item-num">6&nbsp;&nbsp;</span>Correlation matrix</a></span><ul class="toc-item"><li><span><a href="#Remove-correlating-features" data-toc-modified-id="Remove-correlating-features-6.1"><span class="toc-item-num">6.1&nbsp;&nbsp;</span>Remove correlating features</a></span></li></ul></li><li><span><a href="#Split-data" data-toc-modified-id="Split-data-7"><span class="toc-item-num">7&nbsp;&nbsp;</span>Split data</a></span><ul class="toc-item"><li><span><a href="#Delete-duplicates" data-toc-modified-id="Delete-duplicates-7.1"><span class="toc-item-num">7.1&nbsp;&nbsp;</span>Delete duplicates</a></span></li><li><span><a href="#Train-Test-Split" data-toc-modified-id="Train-Test-Split-7.2"><span class="toc-item-num">7.2&nbsp;&nbsp;</span>Train Test Split</a></span></li></ul></li><li><span><a href="#Pipeline-erstellen" data-toc-modified-id="Pipeline-erstellen-8"><span class="toc-item-num">8&nbsp;&nbsp;</span>Pipeline erstellen</a></span></li><li><span><a href="#Logistic-Regression" data-toc-modified-id="Logistic-Regression-9"><span class="toc-item-num">9&nbsp;&nbsp;</span>Logistic Regression</a></span><ul class="toc-item"><li><span><a href="#ROC-Curve" data-toc-modified-id="ROC-Curve-9.1"><span class="toc-item-num">9.1&nbsp;&nbsp;</span>ROC Curve</a></span><ul class="toc-item"><li><span><a href="#Training-data" data-toc-modified-id="Training-data-9.1.1"><span class="toc-item-num">9.1.1&nbsp;&nbsp;</span>Training data</a></span></li><li><span><a href="#Test-data" data-toc-modified-id="Test-data-9.1.2"><span class="toc-item-num">9.1.2&nbsp;&nbsp;</span>Test data</a></span></li></ul></li><li><span><a href="#Confusion-Matrix" data-toc-modified-id="Confusion-Matrix-9.2"><span class="toc-item-num">9.2&nbsp;&nbsp;</span>Confusion Matrix</a></span></li><li><span><a href="#Feature-coefficients" data-toc-modified-id="Feature-coefficients-9.3"><span class="toc-item-num">9.3&nbsp;&nbsp;</span>Feature coefficients</a></span></li><li><span><a href="#Gini-Coefficient" data-toc-modified-id="Gini-Coefficient-9.4"><span class="toc-item-num">9.4&nbsp;&nbsp;</span>Gini Coefficient</a></span></li><li><span><a href="#Stability" data-toc-modified-id="Stability-9.5"><span class="toc-item-num">9.5&nbsp;&nbsp;</span>Stability</a></span></li><li><span><a href="#F1-Score" data-toc-modified-id="F1-Score-9.6"><span class="toc-item-num">9.6&nbsp;&nbsp;</span>F1 Score</a></span></li><li><span><a href="#Brier-score" data-toc-modified-id="Brier-score-9.7"><span class="toc-item-num">9.7&nbsp;&nbsp;</span>Brier score</a></span></li></ul></li><li><span><a href="#XGB" data-toc-modified-id="XGB-10"><span class="toc-item-num">10&nbsp;&nbsp;</span>XGB</a></span><ul class="toc-item"><li><span><a href="#Hyperparamter-tuning" data-toc-modified-id="Hyperparamter-tuning-10.1"><span class="toc-item-num">10.1&nbsp;&nbsp;</span>Hyperparamter tuning</a></span></li><li><span><a href="#ROC-Curve" data-toc-modified-id="ROC-Curve-10.2"><span class="toc-item-num">10.2&nbsp;&nbsp;</span>ROC Curve</a></span><ul class="toc-item"><li><span><a href="#Training-data" data-toc-modified-id="Training-data-10.2.1"><span class="toc-item-num">10.2.1&nbsp;&nbsp;</span>Training data</a></span></li><li><span><a href="#Test-data" data-toc-modified-id="Test-data-10.2.2"><span class="toc-item-num">10.2.2&nbsp;&nbsp;</span>Test data</a></span></li></ul></li><li><span><a href="#Confusion-Matrix" data-toc-modified-id="Confusion-Matrix-10.3"><span class="toc-item-num">10.3&nbsp;&nbsp;</span>Confusion Matrix</a></span></li><li><span><a href="#Feature-Importance" data-toc-modified-id="Feature-Importance-10.4"><span class="toc-item-num">10.4&nbsp;&nbsp;</span>Feature Importance</a></span></li><li><span><a href="#Gini-coefficient" data-toc-modified-id="Gini-coefficient-10.5"><span class="toc-item-num">10.5&nbsp;&nbsp;</span>Gini coefficient</a></span></li><li><span><a href="#Stability" data-toc-modified-id="Stability-10.6"><span class="toc-item-num">10.6&nbsp;&nbsp;</span>Stability</a></span></li><li><span><a href="#F1-Score" data-toc-modified-id="F1-Score-10.7"><span class="toc-item-num">10.7&nbsp;&nbsp;</span>F1 Score</a></span></li><li><span><a href="#Brier-score" data-toc-modified-id="Brier-score-10.8"><span class="toc-item-num">10.8&nbsp;&nbsp;</span>Brier score</a></span></li><li><span><a href="#Model-explainability" data-toc-modified-id="Model-explainability-10.9"><span class="toc-item-num">10.9&nbsp;&nbsp;</span>Model explainability</a></span></li></ul></li><li><span><a href="#Random-Forest" data-toc-modified-id="Random-Forest-11"><span class="toc-item-num">11&nbsp;&nbsp;</span>Random Forest</a></span><ul class="toc-item"><li><span><a href="#Hyperparameter-tuning" data-toc-modified-id="Hyperparameter-tuning-11.1"><span class="toc-item-num">11.1&nbsp;&nbsp;</span>Hyperparameter tuning</a></span></li><li><span><a href="#ROC-Curve" data-toc-modified-id="ROC-Curve-11.2"><span class="toc-item-num">11.2&nbsp;&nbsp;</span>ROC Curve</a></span><ul class="toc-item"><li><span><a href="#Training-data" data-toc-modified-id="Training-data-11.2.1"><span class="toc-item-num">11.2.1&nbsp;&nbsp;</span>Training data</a></span></li><li><span><a href="#Test-data" data-toc-modified-id="Test-data-11.2.2"><span class="toc-item-num">11.2.2&nbsp;&nbsp;</span>Test data</a></span></li></ul></li><li><span><a href="#Confusion-Matrix" data-toc-modified-id="Confusion-Matrix-11.3"><span class="toc-item-num">11.3&nbsp;&nbsp;</span>Confusion Matrix</a></span></li><li><span><a href="#Feature-coefficients" data-toc-modified-id="Feature-coefficients-11.4"><span class="toc-item-num">11.4&nbsp;&nbsp;</span>Feature coefficients</a></span></li><li><span><a href="#Gini-Coefficient" data-toc-modified-id="Gini-Coefficient-11.5"><span class="toc-item-num">11.5&nbsp;&nbsp;</span>Gini Coefficient</a></span></li><li><span><a href="#Stability" data-toc-modified-id="Stability-11.6"><span class="toc-item-num">11.6&nbsp;&nbsp;</span>Stability</a></span></li><li><span><a href="#F1-Score" data-toc-modified-id="F1-Score-11.7"><span class="toc-item-num">11.7&nbsp;&nbsp;</span>F1 Score</a></span></li><li><span><a href="#Brier-score" data-toc-modified-id="Brier-score-11.8"><span class="toc-item-num">11.8&nbsp;&nbsp;</span>Brier score</a></span></li></ul></li><li><span><a href="#Light-gbm" data-toc-modified-id="Light-gbm-12"><span class="toc-item-num">12&nbsp;&nbsp;</span>Light gbm</a></span><ul class="toc-item"><li><span><a href="#Roc-Curve" data-toc-modified-id="Roc-Curve-12.1"><span class="toc-item-num">12.1&nbsp;&nbsp;</span>Roc Curve</a></span><ul class="toc-item"><li><span><a href="#Training-data" data-toc-modified-id="Training-data-12.1.1"><span class="toc-item-num">12.1.1&nbsp;&nbsp;</span>Training data</a></span></li><li><span><a href="#Test-data" data-toc-modified-id="Test-data-12.1.2"><span class="toc-item-num">12.1.2&nbsp;&nbsp;</span>Test data</a></span></li></ul></li><li><span><a href="#Confusion-Matrix" data-toc-modified-id="Confusion-Matrix-12.2"><span class="toc-item-num">12.2&nbsp;&nbsp;</span>Confusion Matrix</a></span></li><li><span><a href="#Feature-importance" data-toc-modified-id="Feature-importance-12.3"><span class="toc-item-num">12.3&nbsp;&nbsp;</span>Feature importance</a></span></li><li><span><a href="#Gini-coefficient" data-toc-modified-id="Gini-coefficient-12.4"><span class="toc-item-num">12.4&nbsp;&nbsp;</span>Gini coefficient</a></span></li><li><span><a href="#Stability" data-toc-modified-id="Stability-12.5"><span class="toc-item-num">12.5&nbsp;&nbsp;</span>Stability</a></span></li><li><span><a href="#F1-Score" data-toc-modified-id="F1-Score-12.6"><span class="toc-item-num">12.6&nbsp;&nbsp;</span>F1 Score</a></span></li><li><span><a href="#Brier-score" data-toc-modified-id="Brier-score-12.7"><span class="toc-item-num">12.7&nbsp;&nbsp;</span>Brier score</a></span></li></ul></li><li><span><a href="#Model-training-results-overview" data-toc-modified-id="Model-training-results-overview-13"><span class="toc-item-num">13&nbsp;&nbsp;</span>Model training results overview</a></span><ul class="toc-item"><li><span><a href="#Parameter-evaluation" data-toc-modified-id="Parameter-evaluation-13.1"><span class="toc-item-num">13.1&nbsp;&nbsp;</span>Parameter evaluation</a></span></li></ul></li><li><span><a href="#Cost-sensitivity" data-toc-modified-id="Cost-sensitivity-14"><span class="toc-item-num">14&nbsp;&nbsp;</span>Cost sensitivity</a></span><ul class="toc-item"><li><span><a href="#Get-probaility-predictions-for-each-model" data-toc-modified-id="Get-probaility-predictions-for-each-model-14.1"><span class="toc-item-num">14.1&nbsp;&nbsp;</span>Get probaility predictions for each model</a></span></li><li><span><a href="#Calculate-bayesian-threshold" data-toc-modified-id="Calculate-bayesian-threshold-14.2"><span class="toc-item-num">14.2&nbsp;&nbsp;</span>Calculate bayesian threshold</a></span></li><li><span><a href="#Calculate-error-cost-per-model-sum-with-threshold-=-0,5" data-toc-modified-id="Calculate-error-cost-per-model-sum-with-threshold-=-0,5-14.3"><span class="toc-item-num">14.3&nbsp;&nbsp;</span>Calculate error cost per model sum with threshold = 0,5</a></span></li><li><span><a href="#Calculate-error-cost-per-model-mean-with-threshold-=-0,5" data-toc-modified-id="Calculate-error-cost-per-model-mean-with-threshold-=-0,5-14.4"><span class="toc-item-num">14.4&nbsp;&nbsp;</span>Calculate error cost per model mean with threshold = 0,5</a></span></li><li><span><a href="#Calculate-bayesian-threshold-for-each-model" data-toc-modified-id="Calculate-bayesian-threshold-for-each-model-14.5"><span class="toc-item-num">14.5&nbsp;&nbsp;</span>Calculate bayesian threshold for each model</a></span></li><li><span><a href="#Calculate-error-cost-per-model-mean-with--bayesian-threshold" data-toc-modified-id="Calculate-error-cost-per-model-mean-with--bayesian-threshold-14.6"><span class="toc-item-num">14.6&nbsp;&nbsp;</span>Calculate error cost per model mean with  bayesian threshold</a></span></li></ul></li><li><span><a href="#Evaluating-cost-sensitive-classifiers" data-toc-modified-id="Evaluating-cost-sensitive-classifiers-15"><span class="toc-item-num">15&nbsp;&nbsp;</span>Evaluating cost-sensitive classifiers</a></span><ul class="toc-item"><li><span><a href="#Accuracy" data-toc-modified-id="Accuracy-15.1"><span class="toc-item-num">15.1&nbsp;&nbsp;</span>Accuracy</a></span></li><li><span><a href="#Error-cost" data-toc-modified-id="Error-cost-15.2"><span class="toc-item-num">15.2&nbsp;&nbsp;</span>Error cost</a></span></li></ul></li><li><span><a href="#Empirical-Thresholding" data-toc-modified-id="Empirical-Thresholding-16"><span class="toc-item-num">16&nbsp;&nbsp;</span>Empirical Thresholding</a></span><ul class="toc-item"><li><ul class="toc-item"><li><span><a href="#Calibration-curve" data-toc-modified-id="Calibration-curve-16.0.1"><span class="toc-item-num">16.0.1&nbsp;&nbsp;</span>Calibration curve</a></span></li></ul></li></ul></li><li><span><a href="#The-MetaCost-algorithm" data-toc-modified-id="The-MetaCost-algorithm-17"><span class="toc-item-num">17&nbsp;&nbsp;</span>The MetaCost algorithm</a></span></li><li><span><a href="#Error-Cost-Overview" data-toc-modified-id="Error-Cost-Overview-18"><span class="toc-item-num">18&nbsp;&nbsp;</span>Error-Cost Overview</a></span><ul class="toc-item"><li><span><a href="#Compare-confusion-matrices" data-toc-modified-id="Compare-confusion-matrices-18.1"><span class="toc-item-num">18.1&nbsp;&nbsp;</span>Compare confusion matrices</a></span></li></ul></li><li><span><a href="#Choose-best-model" data-toc-modified-id="Choose-best-model-19"><span class="toc-item-num">19&nbsp;&nbsp;</span>Choose best model</a></span><ul class="toc-item"><li><span><a href="#Calculate-cost-for-best-model-with-bayes-threshold" data-toc-modified-id="Calculate-cost-for-best-model-with-bayes-threshold-19.1"><span class="toc-item-num">19.1&nbsp;&nbsp;</span>Calculate cost for best model with bayes threshold</a></span></li></ul></li><li><span><a href="#Conclusion" data-toc-modified-id="Conclusion-20"><span class="toc-item-num">20&nbsp;&nbsp;</span>Conclusion</a></span></li></ul></div>

## Pakte importieren und Notebookeinstellungen
### Define parameters
## Define Methods for preprocessing data
## Load data
Mauris viverra dictum ultricies. Vestibulum quis ipsum euismod, facilisis metus sed, varius ipsum. Donec scelerisque lacus libero, eu dignissim sem venenatis at. Etiam id nisl ut lorem gravida euismod.
## EDA and Data Preparation
### order_date



## Lists

Unordered:

- Fusce non velit cursus ligula mattis convallis vel at metus[^2].
- Sed pharetra tellus massa, non elementum eros vulputate non.
- Suspendisse potenti.

Ordered:

1. Quisque arcu felis, laoreet vel accumsan sit amet, fermentum at nunc.
2. Sed massa quam, auctor in eros quis, porttitor tincidunt orci.
3. Nulla convallis id sapien ornare viverra.
4. Nam a est eget ligula pellentesque posuere.

## Blockquote

The following is a blockquote:

> Suspendisse tempus dolor nec risus sodales posuere. Proin dui dui, mollis a consectetur molestie, lobortis vitae tellus.

## Thematic breaks (<hr>)

Mauris viverra dictum ultricies[^3]. Vestibulum quis ipsum euismod, facilisis metus sed, varius ipsum. Donec scelerisque lacus libero, eu dignissim sem venenatis at. Etiam id nisl ut lorem gravida euismod. **You can put some text inside the horizontal rule like so.**

---
{: data-content="hr with text"}

Mauris viverra dictum ultricies. Vestibulum quis ipsum euismod, facilisis metus sed, varius ipsum. Donec scelerisque lacus libero, eu dignissim sem venenatis at. Etiam id nisl ut lorem gravida euismod. **Or you can just have an clean horizontal rule.**

---

Mauris viverra dictum ultricies. Vestibulum quis ipsum euismod, facilisis metus sed, varius ipsum. Donec scelerisque lacus libero, eu dignissim sem venenatis at. Etiam id nisl ut lorem gravida euismod. Or you can just have an clean horizontal rule.

## Code

Now some code:

```
const ultimateTruth = 'follow middlepath';
console.log(ultimateTruth);
```

And here is some `inline code`!

## Tables

Now a table:

| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

## Images

![theme logo](http://www.abhinavsaxena.com/images/abhinav.jpeg)

This is an image[^4]

---
{: data-content="footnotes"}

[^1]: this is a footnote. You should reach here if you click on the corresponding superscript number.
[^2]: hey there, don't forget to read all the footnotes!
[^3]: this is another footnote.
[^4]: this is a very very long footnote to test if a very very long footnote brings some problems or not; hope that there are no problems but you know sometimes problems arise from nowhere.